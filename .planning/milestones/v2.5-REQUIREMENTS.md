# Requirements Archive: v2.5 Player Colors Refactor

**Archived:** 2026-01-25
**Status:** âœ… SHIPPED

This is the archived requirements specification for v2.5.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: BoardSmith v2.5

**Defined:** 2026-01-25
**Core Value:** Make board game development fast and correct

## v1 Requirements

Requirements for v2.5 Player Colors Refactor.

### Engine

- [x] **ENG-01**: Player has `color` property (hex string) accessible via `player.color`
- [x] **ENG-02**: Game defines available colors via `colors` configuration array
- [x] **ENG-03**: Game defines `colorSelectionEnabled` flag (default: true)
- [x] **ENG-04**: Player color auto-assigned from palette based on seat index
- [x] **ENG-05**: Validation throws error if `maxPlayers > colors.length`
- [x] **ENG-06**: Default color palette provided when game doesn't specify custom colors

### Session

- [x] **SESS-01**: Player can change color to any unoccupied color
- [x] **SESS-02**: Color change rejected if target color is held by another player
- [x] **SESS-03**: Color state persists across session lifecycle

### UI

- [x] **UI-01**: Lobby shows color picker when `colorSelectionEnabled` is true
- [x] **UI-02**: Lobby hides color picker when `colorSelectionEnabled` is false
- [x] **UI-03**: Color picker only shows available (unoccupied) colors as selectable
- [x] **UI-04**: PlayerStats shows player color when `colorSelectionEnabled` is true
- [x] **UI-05**: PlayerStats hides color when `colorSelectionEnabled` is false

### Cleanup

- [x] **CLN-01**: Remove or deprecate `DEFAULT_PLAYER_COLORS` export
- [x] **CLN-02**: Update documentation to reflect new color API

### Game Updates

- [x] **GAME-01**: Update hex to use `player.color` throughout UI
- [x] **GAME-02**: Update checkers to use `player.color` for piece colors
- [x] **GAME-03**: ~~Update MERC game to use `player.color` throughout UI~~ N/A - MERC does not exist
- [x] **GAME-04**: ~~Update remaining BoardSmithGames as needed~~ N/A - Other games don't use player colors

## v2 Requirements

(None deferred)

## Out of Scope

| Feature | Reason |
|---------|--------|
| Backward compatibility for DEFAULT_PLAYER_COLORS | Clean break, pit of success |
| Color themes/skins | Beyond scope of this refactor |
| Per-piece color overrides | Player color is player-level, not piece-level |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| ENG-01 | Phase 64 | Complete |
| ENG-02 | Phase 64 | Complete |
| ENG-03 | Phase 64 | Complete |
| ENG-04 | Phase 64 | Complete |
| ENG-05 | Phase 64 | Complete |
| ENG-06 | Phase 64 | Complete |
| SESS-01 | Phase 65 | Complete |
| SESS-02 | Phase 65 | Complete |
| SESS-03 | Phase 65 | Complete |
| UI-01 | Phase 66 | Complete |
| UI-02 | Phase 66 | Complete |
| UI-03 | Phase 66 | Complete |
| UI-04 | Phase 66 | Complete |
| UI-05 | Phase 66 | Complete |
| CLN-01 | Phase 67 | Complete |
| CLN-02 | Phase 67 | Complete |
| GAME-01 | Phase 68 | Complete |
| GAME-02 | Phase 68 | Complete |
| GAME-03 | Phase 68 | N/A |
| GAME-04 | Phase 68 | N/A |

**Coverage:**
- v1 requirements: 20 total
- Mapped to phases: 20
- Unmapped: 0

---

## Milestone Summary

**Shipped:** 18 of 18 v1 requirements (2 marked N/A - MERC doesn't exist, other games don't use player colors)
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-01-25 as part of v2.5 milestone completion*
