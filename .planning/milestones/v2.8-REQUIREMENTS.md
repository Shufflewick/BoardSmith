# Requirements Archive: v2.8 Disabled Selections

**Archived:** 2026-02-06
**Status:** SHIPPED

This is the archived requirements specification for v2.8.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: BoardSmith v2.8

**Defined:** 2026-02-05
**Core Value:** Make board game development fast and correct -- the framework handles multiplayer, AI, and UI so designers focus on game rules.

## v1 Requirements

### Engine

- [x] **ENG-01**: `chooseElement` accepts `disabled` option with signature `(element, ctx) => string | false`
- [x] **ENG-02**: `fromElements` accepts `disabled` option with signature `(element, ctx) => string | false`
- [x] **ENG-03**: `chooseFrom` accepts `disabled` option with signature `(choice, ctx) => string | false`
- [x] **ENG-04**: `getChoices()` returns `AnnotatedChoice<T>[]` with `{ value: T, disabled: string | false }`
- [x] **ENG-05**: `hasValidSelectionPath()` only counts items where `disabled === false` (optional selections still available when all disabled)
- [x] **ENG-06**: `validateSelection()` rejects disabled items with `"Selection disabled: <reason>"` error

### Session

- [x] **SES-01**: `ValidElement` gains `disabled?: string` field
- [x] **SES-02**: `ChoiceWithRefs` gains `disabled?: string` field
- [x] **SES-03**: `PickHandler.getPickChoices()` threads disabled status from engine to wire types

### UI

- [x] **UI-01**: ActionPanel renders disabled element buttons with `:disabled` and title tooltip
- [x] **UI-02**: ActionPanel renders disabled choice buttons with `:disabled` and title tooltip
- [x] **UI-03**: `useBoardInteraction` gains `isDisabledElement(element)` returning `string | false`
- [x] **UI-04**: `useBoardInteraction.triggerElementSelect()` ignores clicks on disabled elements
- [x] **UI-05**: Disabled board elements get CSS class `bs-element-disabled`
- [x] **UI-06**: `validElements` computed carries `disabled?: string` for custom UI consumption
- [x] **UI-07**: `getChoices()` / `getCurrentChoices()` carry `disabled?: string` for custom UI consumption
- [x] **UI-08**: `fill()` rejects disabled values client-side with reason surfaced to user
- [x] **UI-09**: Auto-fill skips disabled items (exactly 1 enabled = auto-fill)

### Documentation

- [x] **DOC-01**: BREAKING.md v2.8 section documents `getChoices()` return type change
- [x] **DOC-02**: Migration guide updated for v2.8

## v2 Requirements

None -- this is a focused feature milestone.

## Out of Scope

| Feature | Reason |
|---------|--------|
| `disabled` on number/text picks | No use case -- disabled only makes sense for discrete choices |
| Animated disabled state transitions | Over-engineering -- static disabled state is sufficient |
| Server-push of disabled state changes | Disabled is evaluated per-fetch, not reactive |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| ENG-01 | Phase 75 | Complete |
| ENG-02 | Phase 75 | Complete |
| ENG-03 | Phase 75 | Complete |
| ENG-04 | Phase 75 | Complete |
| ENG-05 | Phase 75 | Complete |
| ENG-06 | Phase 75 | Complete |
| SES-01 | Phase 76 | Complete |
| SES-02 | Phase 76 | Complete |
| SES-03 | Phase 76 | Complete |
| UI-01 | Phase 77 | Complete |
| UI-02 | Phase 77 | Complete |
| UI-03 | Phase 77 | Complete |
| UI-04 | Phase 77 | Complete |
| UI-05 | Phase 77 | Complete |
| UI-06 | Phase 77 | Complete |
| UI-07 | Phase 77, 79 | Complete |
| UI-08 | Phase 77, 79 | Complete |
| UI-09 | Phase 77, 79 | Complete |
| DOC-01 | Phase 78 | Complete |
| DOC-02 | Phase 78 | Complete |

**Coverage:**
- v1 requirements: 20 total
- Shipped: 20
- Adjusted: 0
- Dropped: 0

---

## Milestone Summary

**Shipped:** 20 of 20 v1 requirements
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-02-06 as part of v2.8 milestone completion*
