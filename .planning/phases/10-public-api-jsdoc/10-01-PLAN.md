---
phase: 10-public-api-jsdoc
plan: 01
type: execute
---

<objective>
Add JSDoc documentation to the engine element system - the core building blocks game developers use.

Purpose: BoardSmith is a library. Library users need clear JSDoc documentation for IDE autocompletion and understanding APIs without reading source code.
Output: JSDoc comments on Game class, GameElement class, and key element classes (Space, Piece, Card, Deck, Hand, Die, Grid).
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Key files to document:
@packages/engine/src/element/game.ts
@packages/engine/src/element/game-element.ts
@packages/engine/src/element/space.ts
@packages/engine/src/element/piece.ts
@packages/engine/src/element/card.ts
@packages/engine/src/element/deck.ts
@packages/engine/src/element/hand.ts
@packages/engine/src/element/die.ts
@packages/engine/src/element/grid.ts
@packages/engine/src/element/hex-grid.ts

# Reference for JSDoc style - existing good examples:
@packages/client/src/index.ts (package-level JSDoc)
@packages/ui/src/composables/useActionController.ts (comprehensive JSDoc)
@packages/engine/src/flow/builders.ts (function JSDoc with @example)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add JSDoc to Game class</name>
  <files>packages/engine/src/element/game.ts</files>
  <action>
Add JSDoc documentation to the Game class and its key public methods:
- Class-level JSDoc explaining what Game represents and how to extend it
- Constructor JSDoc with @param for options
- Key public methods: `setup()`, `defineActions()`, `defineFlow()`, `allPlayers()`, `currentPlayer`, `finish()`, `message()`
- Include @example showing a minimal game class definition

Follow the established pattern from flow/builders.ts - use @example blocks with code fences.

Do NOT document:
- Private methods (prefixed with _ or #)
- Internal methods called by framework
- PersistentMap class (already documented)
  </action>
  <verify>TypeScript compiles without errors: `cd /Users/jtsmith/board_game_service/BoardSmith && pnpm exec tsc --noEmit -p packages/engine`</verify>
  <done>Game class has comprehensive JSDoc on class and all public methods</done>
</task>

<task type="auto">
  <name>Task 2: Add JSDoc to GameElement class</name>
  <files>packages/engine/src/element/game-element.ts</files>
  <action>
Add JSDoc documentation to the GameElement base class and its key public methods:
- Class-level JSDoc explaining the element tree structure, visibility system
- Properties: name, player, row, column, $image, $images
- Query methods: `all()`, `first()`, `firstN()`, `last()`, `lastN()`, `has()`
- State methods: `shuffle()`, `putInto()`, `remove()`, `order()`
- Visibility methods (brief, these are advanced)
- Include @example for common queries like finding cards

Follow the established pattern. Focus on methods game developers actually use.

Do NOT document:
- Internal properties (_ctx, _t, _visibility)
- Static properties (isGameElement, unserializableAttributes)
- Methods only called by framework internals
  </action>
  <verify>TypeScript compiles: `cd /Users/jtsmith/board_game_service/BoardSmith && pnpm exec tsc --noEmit -p packages/engine`</verify>
  <done>GameElement class has JSDoc on class and public query/state methods</done>
</task>

<task type="auto">
  <name>Task 3: Add JSDoc to element subclasses</name>
  <files>packages/engine/src/element/space.ts, packages/engine/src/element/piece.ts, packages/engine/src/element/card.ts, packages/engine/src/element/deck.ts, packages/engine/src/element/hand.ts, packages/engine/src/element/die.ts, packages/engine/src/element/grid.ts, packages/engine/src/element/hex-grid.ts</files>
  <action>
Add JSDoc documentation to the concrete element classes:

**Space**: Container for pieces. Document class, constructor.
**Piece**: Movable game piece. Document class, constructor.
**Card**: Playing card with face/back. Document class, `flip()`, `faceUp`, `faceDown`.
**Deck**: Container for cards. Document class, `draw()`, `dealTo()`.
**Hand**: Player's hand of cards. Document class.
**Die**: Single die. Document class, `roll()`, `currentValue`, `sides`.
**DicePool**: Collection of dice. Document class, `roll()`, `total`.
**Grid/GridCell**: Rectangular grid. Document class, `get()`, `getRow()`, `getColumn()`.
**HexGrid/HexCell**: Hexagonal grid. Document class, `get()`, `neighbors()`.

For each class:
- 1-2 sentence class description
- @example showing typical usage
- Key public methods only

Keep documentation concise - these are straightforward classes.
  </action>
  <verify>TypeScript compiles: `cd /Users/jtsmith/board_game_service/BoardSmith && pnpm exec tsc --noEmit -p packages/engine`</verify>
  <done>All element subclasses have class-level JSDoc and method documentation</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `pnpm exec tsc --noEmit -p packages/engine` passes
- [ ] Game class has class-level and method JSDoc
- [ ] GameElement has class-level and method JSDoc
- [ ] All element subclasses have class-level JSDoc
- [ ] JSDoc follows established patterns (see context files)
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors introduced
- JSDoc visible in IDE when hovering over exports from @boardsmith/engine
</success_criteria>

<output>
After completion, create `.planning/phases/10-public-api-jsdoc/10-01-SUMMARY.md`
</output>
