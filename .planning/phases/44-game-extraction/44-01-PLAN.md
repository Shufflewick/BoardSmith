---
phase: 44-game-extraction
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - /private/tmp/boardsmith-test-target/templates/package.json
  - /private/tmp/boardsmith-test-target/templates/tsconfig.json
  - /private/tmp/boardsmith-test-target/templates/vite.config.ts
  - /private/tmp/boardsmith-test-target/templates/vitest.config.ts
  - /private/tmp/boardsmith-test-target/templates/index.html
  - /private/tmp/boardsmith-test-target/templates/.gitignore
autonomous: true

must_haves:
  truths:
    - "Template files exist that match the boardsmith init scaffold pattern"
    - "Templates use npm (not pnpm) and boardsmith package (not @boardsmith/*)"
    - "Templates use npx boardsmith for CLI commands"
  artifacts:
    - path: "/private/tmp/boardsmith-test-target/templates/package.json"
      provides: "Base package.json template with boardsmith dependency"
      contains: '"boardsmith"'
    - path: "/private/tmp/boardsmith-test-target/templates/tsconfig.json"
      provides: "TypeScript config for standalone game"
    - path: "/private/tmp/boardsmith-test-target/templates/vite.config.ts"
      provides: "Vite build config"
  key_links:
    - from: "templates/package.json"
      to: "boardsmith package"
      via: "dependencies field"
      pattern: '"boardsmith":\\s*"'
---

<objective>
Create reusable template files for extracted games

Purpose: All extracted games need identical base configuration (package.json, tsconfig.json, vite.config.ts, etc.). Creating templates first avoids duplication and ensures consistency.

Output: Template files in /private/tmp/boardsmith-test-target/templates/ that subsequent plans copy and customize.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/44-game-extraction/44-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create template directory structure</name>
  <files>
    /private/tmp/boardsmith-test-target/templates/
  </files>
  <action>
Create the templates directory:
```bash
mkdir -p /private/tmp/boardsmith-test-target/templates
```

This directory will hold all template files that get copied to each extracted game.
  </action>
  <verify>Directory exists: `ls -la /private/tmp/boardsmith-test-target/templates`</verify>
  <done>Templates directory created at /private/tmp/boardsmith-test-target/templates/</done>
</task>

<task type="auto">
  <name>Task 2: Create package.json template</name>
  <files>/private/tmp/boardsmith-test-target/templates/package.json</files>
  <action>
Create package.json template with these requirements:
- Use `{GAME_NAME}` as placeholder for game name (will be replaced during extraction)
- Use `boardsmith` as main dependency (NOT @boardsmith/engine, @boardsmith/ui)
- Use `npx boardsmith` in scripts (CLI is not a dependency)
- Include vue as dependency
- Include typescript, vite, vitest, @vitejs/plugin-vue as devDependencies
- Use npm (type: module)

Template content:
```json
{
  "name": "{GAME_NAME}",
  "version": "0.0.1",
  "type": "module",
  "scripts": {
    "dev": "npx boardsmith dev",
    "build": "npx boardsmith build",
    "test": "vitest",
    "validate": "npx boardsmith validate"
  },
  "dependencies": {
    "boardsmith": "file:../../BoardSmith",
    "vue": "^3.4.0"
  },
  "devDependencies": {
    "@vitejs/plugin-vue": "^5.0.0",
    "typescript": "^5.7.0",
    "vite": "^6.0.0",
    "vitest": "^2.0.0"
  }
}
```

Note: The `file:../../BoardSmith` path is for local development testing. When boardsmith is published to npm, this becomes `"boardsmith": "^0.0.1"`.
  </action>
  <verify>File exists and contains "boardsmith" not "@boardsmith": `cat /private/tmp/boardsmith-test-target/templates/package.json`</verify>
  <done>package.json template with boardsmith dependency (not @boardsmith/*) and npx commands</done>
</task>

<task type="auto">
  <name>Task 3: Create remaining template files</name>
  <files>
    /private/tmp/boardsmith-test-target/templates/tsconfig.json
    /private/tmp/boardsmith-test-target/templates/vite.config.ts
    /private/tmp/boardsmith-test-target/templates/vitest.config.ts
    /private/tmp/boardsmith-test-target/templates/index.html
    /private/tmp/boardsmith-test-target/templates/.gitignore
  </files>
  <action>
Create the following template files:

**tsconfig.json:**
```json
{
  "compilerOptions": {
    "target": "ES2022",
    "module": "ESNext",
    "moduleResolution": "bundler",
    "lib": ["ES2022", "DOM", "DOM.Iterable"],
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "resolveJsonModule": true,
    "jsx": "preserve",
    "declaration": true,
    "declarationMap": true,
    "sourceMap": true,
    "outDir": "./dist",
    "rootDir": "./src"
  },
  "include": ["src/**/*", "tests/**/*"],
  "exclude": ["node_modules", "dist"]
}
```

**vite.config.ts:**
```typescript
import { defineConfig } from 'vite';
import vue from '@vitejs/plugin-vue';

export default defineConfig({
  plugins: [vue()],
});
```

**vitest.config.ts:**
```typescript
import { defineConfig } from 'vitest/config';
import vue from '@vitejs/plugin-vue';

export default defineConfig({
  plugins: [vue()],
  test: {
    globals: true,
    environment: 'node',
  },
});
```

**index.html** (use {DISPLAY_NAME} placeholder):
```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{DISPLAY_NAME}</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      html, body { height: 100%; }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
```

**.gitignore:**
```
node_modules/
dist/
.DS_Store
*.log
package-lock.json
```
  </action>
  <verify>All files exist: `ls -la /private/tmp/boardsmith-test-target/templates/`</verify>
  <done>All 5 template files created (tsconfig.json, vite.config.ts, vitest.config.ts, index.html, .gitignore)</done>
</task>

</tasks>

<verification>
- [ ] Templates directory exists at /private/tmp/boardsmith-test-target/templates/
- [ ] package.json uses "boardsmith" not "@boardsmith/*"
- [ ] package.json uses "npx boardsmith" in scripts
- [ ] All 6 template files present
</verification>

<success_criteria>
Template files ready for use by game extraction plans. Subsequent plans will copy these templates and customize {GAME_NAME} and {DISPLAY_NAME} placeholders.
</success_criteria>

<output>
After completion, create `.planning/phases/44-game-extraction/44-01-SUMMARY.md`
</output>
