---
phase: 44-game-extraction
plan: 06
type: execute
wave: 2
depends_on: ["44-01"]
files_modified:
  - /private/tmp/boardsmith-test-target/polyhedral-potions/package.json
  - /private/tmp/boardsmith-test-target/polyhedral-potions/boardsmith.json
  - /private/tmp/boardsmith-test-target/polyhedral-potions/src/**
  - /private/tmp/boardsmith-test-target/polyhedral-potions/tests/**
autonomous: true

must_haves:
  truths:
    - "Polyhedral Potions game exists as standalone project"
    - "Polyhedral Potions imports use boardsmith package (not @boardsmith/*)"
    - "Polyhedral Potions has unified src/ structure"
  artifacts:
    - path: "/private/tmp/boardsmith-test-target/polyhedral-potions/package.json"
      provides: "Standalone npm package config"
      contains: '"boardsmith"'
    - path: "/private/tmp/boardsmith-test-target/polyhedral-potions/src/rules/game.ts"
      provides: "Game class"
      contains: "from 'boardsmith'"
  key_links:
    - from: "/private/tmp/boardsmith-test-target/polyhedral-potions/src/rules/game.ts"
      to: "boardsmith"
      via: "import statement"
      pattern: "from 'boardsmith'"
---

<objective>
Extract Polyhedral Potions game to standalone repository (GAME-06)

Purpose: Polyhedral Potions is a split-structure game (rules/, ui/, tests/) that needs consolidation into unified src/ structure.

Output: Complete standalone Polyhedral Potions game at /private/tmp/boardsmith-test-target/polyhedral-potions/.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/44-game-extraction/44-RESEARCH.md
@.planning/phases/44-game-extraction/44-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Polyhedral Potions project structure and copy templates</name>
  <files>/private/tmp/boardsmith-test-target/polyhedral-potions/</files>
  <action>
1. Create the polyhedral-potions directory structure:
```bash
mkdir -p /private/tmp/boardsmith-test-target/polyhedral-potions/src/rules
mkdir -p /private/tmp/boardsmith-test-target/polyhedral-potions/src/ui/components
mkdir -p /private/tmp/boardsmith-test-target/polyhedral-potions/tests
mkdir -p /private/tmp/boardsmith-test-target/polyhedral-potions/public
```

2. Copy template files from 44-01

3. Create customized package.json (replace {GAME_NAME} with "polyhedral-potions")

4. Create customized index.html (replace {DISPLAY_NAME} with "Polyhedral Potions")

5. Create modern boardsmith.json:
```json
{
  "$schema": "https://boardsmith.io/schemas/game.json",
  "name": "polyhedral-potions",
  "displayName": "Polyhedral Potions",
  "description": "Dice-based potion crafting game",
  "playerCount": { "min": 1, "max": 4 },
  "estimatedDuration": "20-40 minutes",
  "complexity": 2,
  "categories": ["dice", "strategy"]
}
```
  </action>
  <verify>Directory structure exists: `ls -la /private/tmp/boardsmith-test-target/polyhedral-potions/`</verify>
  <done>Polyhedral Potions project skeleton with templates</done>
</task>

<task type="auto">
  <name>Task 2: Copy and transform source files</name>
  <files>
    /private/tmp/boardsmith-test-target/polyhedral-potions/src/rules/*.ts
    /private/tmp/boardsmith-test-target/polyhedral-potions/src/ui/*.vue
    /private/tmp/boardsmith-test-target/polyhedral-potions/src/main.ts
    /private/tmp/boardsmith-test-target/polyhedral-potions/tests/*.ts
  </files>
  <action>
**Copy rules files (from packages/games/polyhedral-potions/rules/src/):**
- All .ts files

**Transform imports:**
- `@boardsmith/engine` -> `boardsmith`
- `@boardsmith/ai` -> `boardsmith/ai`

**Copy UI files (from packages/games/polyhedral-potions/ui/src/):**
- App.vue -> src/ui/App.vue
- main.ts -> src/main.ts
- components/* -> src/ui/components/

**Transform imports:**
- `@boardsmith/engine` -> `boardsmith`
- `@boardsmith/ui` -> `boardsmith/ui`
- `@boardsmith/polyhedral-potions-rules` -> `../rules/index.js`

**Copy test files (from packages/games/polyhedral-potions/tests/):**
- All test files

**Transform imports:**
- `@boardsmith/engine` -> `boardsmith`
- `@boardsmith/testing` -> `boardsmith/testing`
- Game rules reference -> `../src/rules/index.js`

**Create src/ui/index.ts** with appropriate exports.
  </action>
  <verify>
- `grep -r "@boardsmith" /private/tmp/boardsmith-test-target/polyhedral-potions/src/` returns nothing
  </verify>
  <done>All source files copied with imports transformed</done>
</task>

<task type="auto">
  <name>Task 3: Initialize git repository</name>
  <files>/private/tmp/boardsmith-test-target/polyhedral-potions/.git</files>
  <action>
```bash
cd /private/tmp/boardsmith-test-target/polyhedral-potions
git init
git add .
git commit -m "Initial commit: Polyhedral Potions game extracted from BoardSmith monorepo"
```
  </action>
  <verify>`git -C /private/tmp/boardsmith-test-target/polyhedral-potions log --oneline` shows initial commit</verify>
  <done>Polyhedral Potions is a standalone git repository</done>
</task>

</tasks>

<verification>
- [ ] Polyhedral Potions project exists
- [ ] Unified src/ structure
- [ ] No @boardsmith/* imports remain
- [ ] Git repository initialized
</verification>

<success_criteria>
Polyhedral Potions game extracted as complete standalone project.
</success_criteria>

<output>
After completion, create `.planning/phases/44-game-extraction/44-06-SUMMARY.md`
</output>
