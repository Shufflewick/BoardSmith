---
phase: 44-game-extraction
plan: 08
type: execute
wave: 2
depends_on: ["44-01"]
files_modified:
  - /private/tmp/boardsmith-test-target/demo-animation/package.json
  - /private/tmp/boardsmith-test-target/demo-animation/boardsmith.json
  - /private/tmp/boardsmith-test-target/demo-animation/src/**
  - /private/tmp/boardsmith-test-target/demo-animation/tests/**
autonomous: true

must_haves:
  truths:
    - "Demo Animation exists as standalone project"
    - "Demo Animation imports use boardsmith package (not @boardsmith/*)"
    - "Demo Animation preserves its unified src/ structure"
  artifacts:
    - path: "/private/tmp/boardsmith-test-target/demo-animation/package.json"
      provides: "Standalone npm package config"
      contains: '"boardsmith"'
    - path: "/private/tmp/boardsmith-test-target/demo-animation/src/rules/game.ts"
      provides: "Game class"
      contains: "from 'boardsmith'"
  key_links:
    - from: "/private/tmp/boardsmith-test-target/demo-animation/src/rules/game.ts"
      to: "boardsmith"
      via: "import statement"
      pattern: "from 'boardsmith'"
---

<objective>
Extract Demo Animation to standalone repository (GAME-08)

Purpose: Demo Animation is a unified-structure demo (already has src/rules, src/ui). It already has the target structure - just needs import rewrites and new package.json.

Output: Complete standalone Demo Animation at /private/tmp/boardsmith-test-target/demo-animation/.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/44-game-extraction/44-RESEARCH.md
@.planning/phases/44-game-extraction/44-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Copy Demo Animation project and update config</name>
  <files>/private/tmp/boardsmith-test-target/demo-animation/</files>
  <action>
Demo Animation already has unified structure. Copy the entire project and update configs.

1. Copy the entire demo project:
```bash
cp -r /Users/jtsmith/board_game_service/BoardSmith/packages/games/demoAnimation /private/tmp/boardsmith-test-target/demo-animation
```

2. Remove monorepo artifacts:
```bash
rm -rf /private/tmp/boardsmith-test-target/demo-animation/node_modules
rm -rf /private/tmp/boardsmith-test-target/demo-animation/dist
rm -f /private/tmp/boardsmith-test-target/demo-animation/package-lock.json
```

3. Replace package.json with template-based version:
- Use template from 44-01
- Replace {GAME_NAME} with "demo-animation"
- Keep vitest since this demo has tests

4. Replace index.html with template version:
- Replace {DISPLAY_NAME} with "Demo: Animation Showcase"

5. Replace vite.config.ts and tsconfig.json with template versions

6. Update boardsmith.json if needed (current one is already modern format, keep as-is)
  </action>
  <verify>Directory structure exists: `ls -la /private/tmp/boardsmith-test-target/demo-animation/`</verify>
  <done>Demo Animation project copied with updated configs</done>
</task>

<task type="auto">
  <name>Task 2: Transform imports in source files</name>
  <files>
    /private/tmp/boardsmith-test-target/demo-animation/src/**/*.ts
    /private/tmp/boardsmith-test-target/demo-animation/src/**/*.vue
    /private/tmp/boardsmith-test-target/demo-animation/tests/**/*.ts
  </files>
  <action>
Transform all imports in the copied source files:

**In src/rules/*.ts:**
- `@boardsmith/engine` -> `boardsmith`

**In src/ui/*.vue and src/ui/*.ts:**
- `@boardsmith/engine` -> `boardsmith`
- `@boardsmith/ui` -> `boardsmith/ui`

**In src/main.ts:**
- `@boardsmith/engine` -> `boardsmith`
- `@boardsmith/ui` -> `boardsmith/ui`

**In tests/*.ts:**
- `@boardsmith/engine` -> `boardsmith`
- `@boardsmith/testing` -> `boardsmith/testing`

Use sed or manual editing. Verify no @boardsmith/* imports remain.
  </action>
  <verify>
- `grep -r "@boardsmith" /private/tmp/boardsmith-test-target/demo-animation/src/` returns nothing
- `grep -r "@boardsmith" /private/tmp/boardsmith-test-target/demo-animation/tests/` returns nothing
  </verify>
  <done>All imports transformed from @boardsmith/* to boardsmith/*</done>
</task>

<task type="auto">
  <name>Task 3: Initialize git repository</name>
  <files>/private/tmp/boardsmith-test-target/demo-animation/.git</files>
  <action>
```bash
cd /private/tmp/boardsmith-test-target/demo-animation
git init
git add .
git commit -m "Initial commit: Demo Animation extracted from BoardSmith monorepo"
```
  </action>
  <verify>`git -C /private/tmp/boardsmith-test-target/demo-animation log --oneline` shows initial commit</verify>
  <done>Demo Animation is a standalone git repository</done>
</task>

</tasks>

<verification>
- [ ] Demo Animation project exists
- [ ] Unified src/ structure preserved
- [ ] No @boardsmith/* imports remain
- [ ] Git repository initialized
</verification>

<success_criteria>
Demo Animation extracted as complete standalone project.
</success_criteria>

<output>
After completion, create `.planning/phases/44-game-extraction/44-08-SUMMARY.md`
</output>
