---
phase: 44-game-extraction
plan: 09
type: execute
wave: 2
depends_on: ["44-01"]
files_modified:
  - /private/tmp/boardsmith-test-target/demo-complex-ui/package.json
  - /private/tmp/boardsmith-test-target/demo-complex-ui/boardsmith.json
  - /private/tmp/boardsmith-test-target/demo-complex-ui/src/**
autonomous: true

must_haves:
  truths:
    - "Demo Complex UI Interactions exists as standalone project"
    - "Demo Complex UI imports use boardsmith package (not @boardsmith/*)"
    - "Demo Complex UI preserves its unified src/ structure"
  artifacts:
    - path: "/private/tmp/boardsmith-test-target/demo-complex-ui/package.json"
      provides: "Standalone npm package config"
      contains: '"boardsmith"'
    - path: "/private/tmp/boardsmith-test-target/demo-complex-ui/src/rules/game.ts"
      provides: "Game class"
      contains: "from 'boardsmith'"
  key_links:
    - from: "/private/tmp/boardsmith-test-target/demo-complex-ui/src/rules/game.ts"
      to: "boardsmith"
      via: "import statement"
      pattern: "from 'boardsmith'"
---

<objective>
Extract Demo Complex UI Interactions to standalone repository (GAME-09)

Purpose: Demo Complex UI Interactions is a unified-structure demo (already has src/rules, src/ui). It demonstrates complex UI patterns with boardInteraction.currentAction.

Output: Complete standalone Demo Complex UI at /private/tmp/boardsmith-test-target/demo-complex-ui/.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/44-game-extraction/44-RESEARCH.md
@.planning/phases/44-game-extraction/44-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Copy Demo Complex UI project and update config</name>
  <files>/private/tmp/boardsmith-test-target/demo-complex-ui/</files>
  <action>
Demo Complex UI Interactions already has unified structure. Copy and update configs.

1. Copy the entire demo project:
```bash
cp -r /Users/jtsmith/board_game_service/BoardSmith/packages/games/demoComplexUiInteractions /private/tmp/boardsmith-test-target/demo-complex-ui
```

2. Remove monorepo artifacts:
```bash
rm -rf /private/tmp/boardsmith-test-target/demo-complex-ui/node_modules
rm -rf /private/tmp/boardsmith-test-target/demo-complex-ui/dist
rm -f /private/tmp/boardsmith-test-target/demo-complex-ui/package-lock.json
```

3. Replace package.json with template-based version:
- Use template from 44-01
- Replace {GAME_NAME} with "demo-complex-ui"
- Remove vitest if no tests directory exists

4. Replace index.html with template version:
- Replace {DISPLAY_NAME} with "Demo: Complex UI Interactions"

5. Replace vite.config.ts and tsconfig.json with template versions

6. Keep existing modern boardsmith.json (it's already correct format)
  </action>
  <verify>Directory structure exists: `ls -la /private/tmp/boardsmith-test-target/demo-complex-ui/`</verify>
  <done>Demo Complex UI project copied with updated configs</done>
</task>

<task type="auto">
  <name>Task 2: Transform imports in source files</name>
  <files>
    /private/tmp/boardsmith-test-target/demo-complex-ui/src/**/*.ts
    /private/tmp/boardsmith-test-target/demo-complex-ui/src/**/*.vue
  </files>
  <action>
Transform all imports in the copied source files:

**In src/rules/*.ts:**
- `@boardsmith/engine` -> `boardsmith`

**In src/ui/*.vue and src/ui/*.ts:**
- `@boardsmith/engine` -> `boardsmith`
- `@boardsmith/ui` -> `boardsmith/ui`

**In src/main.ts:**
- `@boardsmith/engine` -> `boardsmith`
- `@boardsmith/ui` -> `boardsmith/ui`

Verify no @boardsmith/* imports remain.
  </action>
  <verify>
- `grep -r "@boardsmith" /private/tmp/boardsmith-test-target/demo-complex-ui/src/` returns nothing
  </verify>
  <done>All imports transformed from @boardsmith/* to boardsmith/*</done>
</task>

<task type="auto">
  <name>Task 3: Initialize git repository</name>
  <files>/private/tmp/boardsmith-test-target/demo-complex-ui/.git</files>
  <action>
```bash
cd /private/tmp/boardsmith-test-target/demo-complex-ui
git init
git add .
git commit -m "Initial commit: Demo Complex UI Interactions extracted from BoardSmith monorepo"
```
  </action>
  <verify>`git -C /private/tmp/boardsmith-test-target/demo-complex-ui log --oneline` shows initial commit</verify>
  <done>Demo Complex UI is a standalone git repository</done>
</task>

</tasks>

<verification>
- [ ] Demo Complex UI project exists
- [ ] Unified src/ structure preserved
- [ ] No @boardsmith/* imports remain
- [ ] Git repository initialized
</verification>

<success_criteria>
Demo Complex UI Interactions extracted as complete standalone project.
</success_criteria>

<output>
After completion, create `.planning/phases/44-game-extraction/44-09-SUMMARY.md`
</output>
