---
phase: 44-game-extraction
plan: 10
type: execute
wave: 2
depends_on: ["44-01"]
files_modified:
  - /private/tmp/boardsmith-test-target/floss-bitties/package.json
  - /private/tmp/boardsmith-test-target/floss-bitties/boardsmith.json
  - /private/tmp/boardsmith-test-target/floss-bitties/src/**
autonomous: true

must_haves:
  truths:
    - "Floss Bitties exists as standalone project (even if not fully working)"
    - "Floss Bitties imports use boardsmith package (not @boardsmith/*)"
    - "Floss Bitties preserves its unified src/ structure"
  artifacts:
    - path: "/private/tmp/boardsmith-test-target/floss-bitties/package.json"
      provides: "Standalone npm package config"
      contains: '"boardsmith"'
    - path: "/private/tmp/boardsmith-test-target/floss-bitties/src/rules/game.ts"
      provides: "Game class"
  key_links:
    - from: "/private/tmp/boardsmith-test-target/floss-bitties/src/rules/game.ts"
      to: "boardsmith"
      via: "import statement"
      pattern: "from 'boardsmith'"
---

<objective>
Extract Floss Bitties to standalone repository (GAME-05)

Purpose: Floss Bitties is a unified-structure game (src/rules, src/ui) that is marked as "not currently working, not a fail condition". Extract it anyway for completeness.

Output: Complete standalone Floss Bitties at /private/tmp/boardsmith-test-target/floss-bitties/.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/44-game-extraction/44-RESEARCH.md
@.planning/phases/44-game-extraction/44-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Copy Floss Bitties project and update config</name>
  <files>/private/tmp/boardsmith-test-target/floss-bitties/</files>
  <action>
Floss Bitties already has unified structure. Copy and update configs.

**Note:** This game is marked as "not currently working" - that's OK. We extract it anyway.

1. Copy the entire game project:
```bash
cp -r /Users/jtsmith/board_game_service/BoardSmith/packages/games/floss-bitties /private/tmp/boardsmith-test-target/floss-bitties
```

2. Remove monorepo artifacts:
```bash
rm -rf /private/tmp/boardsmith-test-target/floss-bitties/node_modules
rm -rf /private/tmp/boardsmith-test-target/floss-bitties/dist
rm -f /private/tmp/boardsmith-test-target/floss-bitties/package-lock.json
```

3. Replace package.json with template-based version:
- Use template from 44-01
- Replace {GAME_NAME} with "floss-bitties"

4. Replace index.html with template version:
- Replace {DISPLAY_NAME} with "Floss Bitties"

5. Replace vite.config.ts and tsconfig.json with template versions

6. Keep existing modern boardsmith.json (it's already correct format)

7. Copy public/ directory if it has assets (thumbnail.png)
  </action>
  <verify>Directory structure exists: `ls -la /private/tmp/boardsmith-test-target/floss-bitties/`</verify>
  <done>Floss Bitties project copied with updated configs</done>
</task>

<task type="auto">
  <name>Task 2: Transform imports in source files</name>
  <files>
    /private/tmp/boardsmith-test-target/floss-bitties/src/**/*.ts
    /private/tmp/boardsmith-test-target/floss-bitties/src/**/*.vue
  </files>
  <action>
Transform all imports in the copied source files:

**In src/rules/*.ts:**
- `@boardsmith/engine` -> `boardsmith`

**In src/ui/*.vue and src/ui/*.ts:**
- `@boardsmith/engine` -> `boardsmith`
- `@boardsmith/ui` -> `boardsmith/ui`

**In src/main.ts:**
- `@boardsmith/engine` -> `boardsmith`
- `@boardsmith/ui` -> `boardsmith/ui`

**In tests/*.ts (if present):**
- `@boardsmith/engine` -> `boardsmith`
- `@boardsmith/testing` -> `boardsmith/testing`

Verify no @boardsmith/* imports remain.
  </action>
  <verify>
- `grep -r "@boardsmith" /private/tmp/boardsmith-test-target/floss-bitties/src/` returns nothing
  </verify>
  <done>All imports transformed from @boardsmith/* to boardsmith/*</done>
</task>

<task type="auto">
  <name>Task 3: Initialize git repository</name>
  <files>/private/tmp/boardsmith-test-target/floss-bitties/.git</files>
  <action>
```bash
cd /private/tmp/boardsmith-test-target/floss-bitties
git init
git add .
git commit -m "Initial commit: Floss Bitties extracted from BoardSmith monorepo

Note: This game may not be fully working - extraction preserved existing state."
```
  </action>
  <verify>`git -C /private/tmp/boardsmith-test-target/floss-bitties log --oneline` shows initial commit</verify>
  <done>Floss Bitties is a standalone git repository</done>
</task>

</tasks>

<verification>
- [ ] Floss Bitties project exists
- [ ] Unified src/ structure preserved
- [ ] No @boardsmith/* imports remain
- [ ] Git repository initialized
- [ ] Note: Working state not required (GAME-05 allows non-working)
</verification>

<success_criteria>
Floss Bitties extracted as standalone project. Per GAME-05, non-working state is acceptable.
</success_criteria>

<output>
After completion, create `.planning/phases/44-game-extraction/44-10-SUMMARY.md`
</output>
