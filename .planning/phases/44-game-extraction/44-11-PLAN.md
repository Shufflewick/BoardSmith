---
phase: 44-game-extraction
plan: 11
type: execute
wave: 4
depends_on: ["44-02", "44-03", "44-04", "44-05", "44-06", "44-07", "44-08", "44-09", "44-10"]
files_modified:
  - /Users/jtsmith/board_game_service/BoardSmith/vitest.config.ts
autonomous: false

must_haves:
  truths:
    - "All extracted games pass npm install without errors"
    - "All extracted games pass TypeScript compilation without errors"
    - "Working games (not floss-bitties) can run with npx boardsmith dev"
  artifacts:
    - path: "/private/tmp/boardsmith-test-target/hex/node_modules"
      provides: "Installed dependencies"
    - path: "/private/tmp/boardsmith-test-target/checkers/node_modules"
      provides: "Installed dependencies"
  key_links:
    - from: "extracted games"
      to: "boardsmith"
      via: "file: dependency"
      pattern: '"boardsmith":\\s*"file:'
---

<objective>
Validate all extracted games work as standalone projects (GAME-10, GAME-11)

Purpose: Verify that all extracted games can install dependencies, compile TypeScript, and run with `npx boardsmith dev`. Also clean up the monorepo by removing game test aliases from vitest.config.ts.

Output: All games validated, monorepo cleaned up.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/44-game-extraction/44-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run npm install in all extracted games</name>
  <files>
    /private/tmp/boardsmith-test-target/*/package-lock.json
  </files>
  <action>
Run npm install in each extracted game directory. This validates:
1. package.json is valid JSON
2. Dependencies can be resolved
3. boardsmith file: dependency works

```bash
for game in hex checkers cribbage go-fish polyhedral-potions demo-action-panel demo-animation demo-complex-ui floss-bitties; do
  echo "Installing $game..."
  cd /private/tmp/boardsmith-test-target/$game
  npm install
  if [ $? -ne 0 ]; then
    echo "FAILED: $game npm install"
    exit 1
  fi
done
echo "All games installed successfully"
```

If any fail, investigate and fix the issue before proceeding.
  </action>
  <verify>All games have node_modules directory: `ls /private/tmp/boardsmith-test-target/*/node_modules`</verify>
  <done>All 9 extracted games pass npm install</done>
</task>

<task type="auto">
  <name>Task 2: Run TypeScript compilation check</name>
  <files>None (validation only)</files>
  <action>
Run TypeScript compilation check in each game to verify imports are correct:

```bash
for game in hex checkers cribbage go-fish polyhedral-potions demo-action-panel demo-animation demo-complex-ui floss-bitties; do
  echo "Type-checking $game..."
  cd /private/tmp/boardsmith-test-target/$game
  npx tsc --noEmit
  if [ $? -ne 0 ]; then
    echo "FAILED: $game TypeScript check"
    # Don't exit - floss-bitties may have errors
  fi
done
```

Expected: All games except possibly floss-bitties should pass.
Floss-bitties errors are acceptable per GAME-05.
  </action>
  <verify>TypeScript check completes for all working games</verify>
  <done>TypeScript compilation validates all imports are correct</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Extracted all 9 games/demos to standalone repositories with updated imports and package.json files</what-built>
  <how-to-verify>
1. Pick one game (suggest hex as it's simplest):
   ```bash
   cd /private/tmp/boardsmith-test-target/hex
   npx boardsmith dev
   ```
2. Open browser to localhost URL shown
3. Verify the game loads and is playable
4. Ctrl+C to stop the dev server

5. Pick one demo (suggest demo-animation):
   ```bash
   cd /private/tmp/boardsmith-test-target/demo-animation
   npx boardsmith dev
   ```
6. Verify the demo loads
7. Ctrl+C to stop

If games don't load, check console for import errors - these indicate missed import transformations.
  </how-to-verify>
  <resume-signal>Type "approved" if games work, or describe issues found</resume-signal>
</task>

</tasks>

<verification>
- [ ] All 9 games pass npm install
- [ ] All working games (8 of 9) pass TypeScript check
- [ ] At least one game runs with npx boardsmith dev
- [ ] At least one demo runs with npx boardsmith dev
- [ ] Human verified games are playable
</verification>

<success_criteria>
All extracted games are valid standalone npm projects that depend on boardsmith (not @boardsmith/*) and can be developed independently. GAME-10 and GAME-11 requirements met.
</success_criteria>

<output>
After completion, create `.planning/phases/44-game-extraction/44-11-SUMMARY.md`
</output>
