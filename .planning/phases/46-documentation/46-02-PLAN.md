---
phase: 46-documentation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/api/index.md
  - docs/api/ui.md
  - docs/api/session.md
  - docs/api/testing.md
  - docs/api/ai.md
  - docs/api/ai-trainer.md
  - docs/api/client.md
  - docs/api/server.md
  - docs/api/runtime.md
  - docs/api/worker.md
  - docs/api/eslint-plugin.md
autonomous: true

must_haves:
  truths:
    - "Each subpath export has a dedicated API reference page"
    - "API pages show what the subpath exports and when to use it"
    - "Users can find the right import for their use case"
  artifacts:
    - path: "docs/api/index.md"
      provides: "Root boardsmith export documentation"
      contains: "GameElement"
    - path: "docs/api/ui.md"
      provides: "Vue component and composable documentation"
      contains: "useBoardInteraction"
    - path: "docs/api/testing.md"
      provides: "Test utility documentation"
      contains: "createTestGame"
    - path: "docs/api/session.md"
      provides: "GameSession documentation"
      contains: "GameSession"
    - path: "docs/api/ai.md"
      provides: "AI/MCTS documentation"
      contains: "createBot"
  key_links:
    - from: "docs/api/*.md"
      to: "src/*/index.ts"
      via: "export lists match actual exports"
      pattern: "export \\{"
---

<objective>
Create API reference pages for each boardsmith subpath export.

Purpose: Users need to know what each subpath exports and when to use it. API reference pages provide the "which import do I need?" answer.

Output: 11 API reference pages in docs/api/ covering all subpath exports.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/46-documentation/46-CONTEXT.md
@.planning/phases/46-documentation/46-RESEARCH.md
@package.json (exports field)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create core API reference pages</name>
  <files>
    docs/api/index.md
    docs/api/ui.md
    docs/api/session.md
    docs/api/testing.md
  </files>
  <action>
    Create the docs/api/ directory if it doesn't exist.

    Create 4 API reference pages for the most commonly used subpaths:

    **docs/api/index.md** (root `boardsmith` export):
    - "When to Use": Core game logic - element classes, actions, flow
    - Exports: GameElement, Space, Piece, Card, Hand, Deck, Die, DicePool, Grid, HexGrid, Game, Player, Action, FlowEngine, sequence, loop, eachPlayer, actionStep, etc.
    - Example: Creating a Game class that extends Game<G, P>

    **docs/api/ui.md** (`boardsmith/ui`):
    - "When to Use": Vue components and composables for game UI
    - Exports: GameShell, AutoUI, ActionPanel, useBoardInteraction, useAutoAnimations, useDragDrop, etc.
    - Example: Basic GameShell usage

    **docs/api/session.md** (`boardsmith/session`):
    - "When to Use": Managing game state, multiplayer, AI opponents
    - Exports: GameSession, AIController, CheckpointManager, GameDefinition, GameConfig
    - Example: Creating a GameSession with AI

    **docs/api/testing.md** (`boardsmith/testing`):
    - "When to Use": Testing game logic
    - Exports: TestGame, createTestGame, simulateAction, assertFlowState, assertPlayerHas, toDebugString
    - Example: Basic test with createTestGame

    Use this template structure for each page:
    ```markdown
    # boardsmith/[subpath]

    > [One-line description]

    ## When to Use

    [2-3 sentences on use case]

    ## Usage

    \`\`\`typescript
    import { ... } from 'boardsmith/[subpath]';
    \`\`\`

    ## Exports

    ### Classes
    - `ClassName` - description

    ### Functions
    - `functionName()` - description

    ### Types
    - `TypeName` - description

    ## Examples

    [Working code example]

    ## See Also

    - [Related docs](./link.md)
    ```

    Read each src/*/index.ts file to get the actual export list.
  </action>
  <verify>
    - docs/api/index.md exists and lists element classes
    - docs/api/ui.md exists and lists composables
    - docs/api/session.md exists and lists GameSession
    - docs/api/testing.md exists and lists test utilities
  </verify>
  <done>
    - 4 API reference pages created for core subpaths
    - Each page has When to Use, Usage, Exports, and Examples sections
  </done>
</task>

<task type="auto">
  <name>Task 2: Create AI and infrastructure API reference pages</name>
  <files>
    docs/api/ai.md
    docs/api/ai-trainer.md
    docs/api/client.md
    docs/api/server.md
    docs/api/runtime.md
    docs/api/worker.md
    docs/api/eslint-plugin.md
  </files>
  <action>
    Create 7 API reference pages for specialized subpaths:

    **docs/api/ai.md** (`boardsmith/ai`):
    - "When to Use": Adding AI opponents to games
    - Exports: createBot, MCTSBot, parseAILevel, DIFFICULTY_PRESETS

    **docs/api/ai-trainer.md** (`boardsmith/ai-trainer`):
    - "When to Use": Training and improving AI weights
    - Exports: ParallelTrainer, WeightEvolver, introspectGame, generateCandidateFeatures, generateAICode

    **docs/api/client.md** (`boardsmith/client`):
    - "When to Use": Browser-side multiplayer client
    - Exports: MeepleClient, GameConnection, audioService

    **docs/api/server.md** (`boardsmith/server`):
    - "When to Use": Self-hosted game server
    - Exports: GameServerCore, InMemoryGameStore, SqliteGameStore, game handlers

    **docs/api/runtime.md** (`boardsmith/runtime`):
    - "When to Use": Running games (shared between client/server)
    - Exports: GameRunner, serialization, snapshots, replays

    **docs/api/worker.md** (`boardsmith/worker`):
    - "When to Use": Cloudflare Workers deployment
    - Exports: createGameWorker, createGameStateDurableObject, buildRegistries

    **docs/api/eslint-plugin.md** (`boardsmith/eslint-plugin`):
    - "When to Use": Linting game code for determinism
    - Exports: default plugin, rules (no-network, no-filesystem, no-timers, no-nondeterministic, no-eval)

    Read each src/*/index.ts file to get the actual export list.
  </action>
  <verify>
    - All 7 files exist in docs/api/
    - Each has proper structure (When to Use, Usage, Exports sections)
    - ls docs/api/ shows 11 total .md files
  </verify>
  <done>
    - 7 API reference pages created for specialized subpaths
    - All 11 subpath exports now have documentation
    - DOC-03 requirement satisfied
  </done>
</task>

</tasks>

<verification>
After completing all tasks:

1. Run: `ls docs/api/*.md | wc -l`
   Expected: 11

2. Run: `ls docs/api/`
   Expected: index.md, ui.md, session.md, testing.md, ai.md, ai-trainer.md, client.md, server.md, runtime.md, worker.md, eslint-plugin.md

3. Each file should contain "## When to Use" section
</verification>

<success_criteria>
- [ ] docs/api/ directory created with 11 .md files
- [ ] Each file follows consistent template structure
- [ ] Export lists match actual src/*/index.ts exports
- [ ] DOC-03 requirement satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/46-documentation/46-02-SUMMARY.md`
</output>
