---
phase: 46-documentation
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/migration-guide.md
autonomous: true

must_haves:
  truths:
    - "MERC team can follow step-by-step commands to migrate"
    - "Migration guide is copy-paste ready, not explanatory"
    - "All import path mappings are documented"
  artifacts:
    - path: "docs/migration-guide.md"
      provides: "Step-by-step migration instructions"
      contains: "npm install boardsmith"
      min_lines: 50
  key_links:
    - from: "docs/migration-guide.md"
      to: "package.json"
      via: "dependency changes"
      pattern: "boardsmith.*2\\.0"
---

<objective>
Write a migration guide for the MERC team to update from @boardsmith/* packages to the single boardsmith package.

Purpose: The MERC team (external consumers of BoardSmith) needs clear, copy-paste instructions to migrate their codebase. No explanatory prose - just actionable commands.

Output: docs/migration-guide.md with step-by-step migration instructions.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/46-documentation/46-CONTEXT.md
@.planning/phases/46-documentation/46-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create migration guide for MERC team</name>
  <files>docs/migration-guide.md</files>
  <action>
    Create docs/migration-guide.md with the following structure:

    ```markdown
    # Migration Guide: v1.x to v2.0

    BoardSmith 2.0 consolidates all `@boardsmith/*` packages into a single `boardsmith` package with subpath exports.

    ## Step 1: Update package.json

    Remove all @boardsmith/* dependencies and add boardsmith:

    \`\`\`diff
    {
      "dependencies": {
    -   "@boardsmith/engine": "^1.x",
    -   "@boardsmith/ui": "^1.x",
    -   "@boardsmith/session": "^1.x",
    -   "@boardsmith/testing": "^1.x",
    -   "@boardsmith/ai": "^1.x"
    +   "boardsmith": "^2.0.0"
      }
    }
    \`\`\`

    ## Step 2: Update Imports

    Find and replace these import paths throughout your codebase:

    | Find | Replace |
    |------|---------|
    | `from '@boardsmith/engine'` | `from 'boardsmith'` |
    | `from '@boardsmith/ui'` | `from 'boardsmith/ui'` |
    | `from '@boardsmith/session'` | `from 'boardsmith/session'` |
    | `from '@boardsmith/testing'` | `from 'boardsmith/testing'` |
    | `from '@boardsmith/ai'` | `from 'boardsmith/ai'` |
    | `from '@boardsmith/ai-trainer'` | `from 'boardsmith/ai-trainer'` |
    | `from '@boardsmith/client'` | `from 'boardsmith/client'` |
    | `from '@boardsmith/server'` | `from 'boardsmith/server'` |
    | `from '@boardsmith/runtime'` | `from 'boardsmith/runtime'` |
    | `from '@boardsmith/worker'` | `from 'boardsmith/worker'` |
    | `from '@boardsmith/eslint-plugin'` | `from 'boardsmith/eslint-plugin'` |
    | `'@boardsmith/ui/animation/drag-drop.css'` | `'boardsmith/ui/animation/drag-drop.css'` |
    | `'@boardsmith/ui/animation/card-flip.css'` | `'boardsmith/ui/animation/card-flip.css'` |

    ### Quick Find/Replace Commands

    For VS Code:
    - Open Find and Replace (Cmd+Shift+H / Ctrl+Shift+H)
    - Enable regex mode
    - Find: `from '@boardsmith/engine'`
    - Replace: `from 'boardsmith'`
    - Repeat for each package

    For CLI (sed):
    \`\`\`bash
    # macOS
    find src -name "*.ts" -o -name "*.vue" | xargs sed -i '' "s/@boardsmith\\/engine/boardsmith/g"
    find src -name "*.ts" -o -name "*.vue" | xargs sed -i '' "s/@boardsmith\\//boardsmith\\//g"

    # Linux
    find src -name "*.ts" -o -name "*.vue" | xargs sed -i "s/@boardsmith\\/engine/boardsmith/g"
    find src -name "*.ts" -o -name "*.vue" | xargs sed -i "s/@boardsmith\\//boardsmith\\//g"
    \`\`\`

    ## Step 3: Reinstall Dependencies

    \`\`\`bash
    rm -rf node_modules package-lock.json
    npm install
    \`\`\`

    ## Step 4: Verify

    \`\`\`bash
    # Build should succeed
    npm run build

    # Tests should pass
    npm test

    # Dev server should work
    boardsmith dev
    \`\`\`

    ## Common Issues

    ### TypeScript errors about missing types

    Make sure your tsconfig.json has:
    \`\`\`json
    {
      "compilerOptions": {
        "moduleResolution": "bundler"
      }
    }
    \`\`\`

    ### Import not found errors

    The package uses source-based exports. Your bundler (Vite) compiles the TypeScript directly. This is the expected setup.

    ## Questions?

    Contact the BoardSmith team if you hit issues.
    ```

    IMPORTANT:
    - Keep it actionable (commands, not explanations)
    - Include the complete import mapping table
    - Provide both VS Code and CLI approaches
    - Add the common issues section for TypeScript setup
  </action>
  <verify>
    - docs/migration-guide.md exists
    - Contains all 13 import path mappings
    - Has Step 1 (package.json), Step 2 (imports), Step 3 (reinstall), Step 4 (verify)
    - Includes both VS Code and CLI approaches
  </verify>
  <done>
    - Migration guide created with step-by-step commands
    - All import mappings documented in table format
    - DOC-04 requirement satisfied
  </done>
</task>

</tasks>

<verification>
After completing all tasks:

1. docs/migration-guide.md exists and has 4 steps
2. Import mapping table covers all 11 subpaths + 2 CSS assets
3. Guide is copy-paste ready (commands work as-is)
</verification>

<success_criteria>
- [ ] docs/migration-guide.md created
- [ ] Contains complete import mapping table (13 entries)
- [ ] Step-by-step format with actionable commands
- [ ] Common issues section addresses TypeScript setup
- [ ] DOC-04 requirement satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/46-documentation/46-03-SUMMARY.md`
</output>
