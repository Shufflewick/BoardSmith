---
phase: 47-initial-interview-and-generation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/cli/slash-command/instructions.md
autonomous: true

must_haves:
  truths:
    - "/design-game detects no project and starts interview"
    - "Interview asks structured questions about components, turn structure, round/game end"
    - "Governor pattern captures deferred ideas without blocking progress"
    - "Summary and confirmation before proceeding"
  artifacts:
    - path: "src/cli/slash-command/instructions.md"
      provides: "State detection, interview flow, governor pattern"
      min_lines: 200
      contains: "Phase 1: State Detection"
  key_links:
    - from: "instructions.md"
      to: "PROJECT.md template"
      via: "Deferred Ideas section reference"
      pattern: "Deferred Ideas"
---

<objective>
Create the redesigned /design-game instructions with state detection, structured interview flow, and governor pattern for scope control.

Purpose: Transform /design-game from monolithic generator into iterative, state-driven skill for non-programmers
Output: Updated instructions.md with complete interview and governor pattern
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/47-initial-interview-and-generation/47-RESEARCH.md

# Source files to reference
@src/cli/slash-command/instructions.md
@src/cli/slash-command/generate-ai-instructions.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rewrite instructions.md with state detection and interview flow</name>
  <files>src/cli/slash-command/instructions.md</files>
  <action>
Completely rewrite instructions.md to implement the new iterative workflow. The file should have these sections:

**1. Header and Purpose**
- Clear statement that this is for non-programmer game designers
- Brief overview of the iterative playtest-driven approach

**2. Phase 1: State Detection**
- Check for PROJECT.md in current directory
- If missing: proceed to interview (this plan)
- If exists with phase-complete: continuation flow (Phase 48)
- If exists with phase-in-progress: resume flow (Phase 49)
- Requirements covered: STATE-01, STATE-04

**3. Phase 2: Structured Interview**
Requirements covered: INT-01 through INT-06

Interview flow (ask one at a time):
1. Open question: "Tell me about your game" - capture vision, theme, excitement (INT-01)
2. Component prompts (INT-02):
   - "Will your game use cards? If so, describe them briefly."
   - "Will your game use a board? If so, describe it briefly."
   - "Will your game use dice? If so, what kind?"
   - "Will your game use tokens or pieces? If so, describe them."
3. Turn structure (INT-03): "How do turns work? Options: Sequential (one player completes their turn, then next), Simultaneous (all players act at once), or Phased (all do phase 1, then all do phase 2)?"
4. Round completion (INT-04): "How does a round end? Options: All players take one turn, Someone passes, A trigger condition (describe), or No rounds (continuous play)"
5. Game end (INT-05): "How does the game end? Options: Someone reaches a goal, Deck runs out, Fixed number of rounds, Elimination, or Other (describe)"
6. Summary and confirmation (INT-06): Present gathered info, ask "Does this look correct? Any changes?"

**4. Governor Pattern**
Requirements covered: GOV-01 through GOV-03

Scope creep detection triggers (GOV-01):
- Detailed card effects or abilities
- Scoring formulas or point values
- Strategy tips or optimal plays
- Edge cases or rule exceptions
- Multiple game modes

ACDR pattern instructions (GOV-02):
- ACKNOWLEDGE: "Great idea about [specific thing]!"
- CAPTURE: Add to Deferred Ideas in PROJECT.md
- DEFER: "Let's capture that for later - we'll add it after we have the basics working."
- REDIRECT: Return to next structured question

Include explicit instruction to maintain Deferred Ideas section (GOV-03).

**5. Proceed to Artifact Creation**
After interview confirmed, instruct Claude to proceed to artifact creation (covered in Plan 02).

Use the generate-ai-instructions.md as a reference for tone and structure - it's a well-written skill guide.
  </action>
  <verify>File exists with sections: State Detection, Structured Interview, Governor Pattern</verify>
  <done>instructions.md rewritten with state detection, full interview flow, and governor pattern</done>
</task>

<task type="auto">
  <name>Task 2: Add reference file reading instructions</name>
  <files>src/cli/slash-command/instructions.md</files>
  <action>
Add a section at the top of instructions.md (after the header) that instructs Claude to read reference files BEFORE starting the interview.

Files to read for patterns:
- `<BOARDSMITH_ROOT>/docs/getting-started.md` - Project structure reference
- `<BOARDSMITH_ROOT>/docs/core-concepts.md` - Element system, actions, flow concepts
- `<BOARDSMITH_ROOT>/docs/actions-and-flow.md` - Flow primitives and action patterns

This ensures Claude has context about BoardSmith capabilities before interviewing the designer.

Keep the BOARDSMITH_ROOT placeholder convention from the existing file.
  </action>
  <verify>grep "docs/getting-started.md" src/cli/slash-command/instructions.md shows file reference</verify>
  <done>Reference file reading section added to instructions.md</done>
</task>

</tasks>

<verification>
- [ ] instructions.md has State Detection section with PROJECT.md check
- [ ] Interview flow covers all 6 INT requirements
- [ ] Governor pattern covers all 3 GOV requirements
- [ ] ACDR pattern clearly explained
- [ ] Reference file reading section present
</verification>

<success_criteria>
/design-game skill can detect no-project state and conduct structured interview with scope control
</success_criteria>

<output>
After completion, create `.planning/phases/47-initial-interview-and-generation/47-01-SUMMARY.md`
</output>
