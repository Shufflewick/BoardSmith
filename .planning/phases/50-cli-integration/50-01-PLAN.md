---
phase: 50-cli-integration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/cli/cli.ts
  - src/cli/commands/install-claude-command.ts
autonomous: true

must_haves:
  truths:
    - "Running `npx boardsmith claude` installs the slash commands"
    - "Running `npx boardsmith claude uninstall` removes the slash commands"
    - "Success message clarifies design-game is self-contained (no GSD needed)"
  artifacts:
    - path: "src/cli/cli.ts"
      provides: "CLI command structure with claude default action"
      contains: ".action(installClaudeCommand)"
    - path: "src/cli/commands/install-claude-command.ts"
      provides: "Install function with updated success message"
      contains: "self-contained"
  key_links:
    - from: "src/cli/cli.ts"
      to: "installClaudeCommand"
      via: "default action on claude command"
      pattern: "claudeCmd.*\\.action\\(installClaudeCommand\\)"
---

<objective>
Simplify the Claude integration CLI from `boardsmith claude install` to just `boardsmith claude`.

Purpose: Make the most common operation (installing the slash commands) the default action, reducing friction for users setting up the design-game skill.

Output: Modified CLI that runs install by default when `boardsmith claude` is invoked, while keeping `boardsmith claude uninstall` as an explicit subcommand.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/cli/cli.ts
@src/cli/commands/install-claude-command.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Make install the default action for `boardsmith claude`</name>
  <files>src/cli/cli.ts</files>
  <action>
Modify the claude command structure in cli.ts to:

1. Add `--force` and `--local` options directly to the `claude` parent command
2. Set `installClaudeCommand` as the default action on the parent command
3. Keep `uninstall` as a subcommand with its `--local` option

The pattern to use is commander's default command behavior. When a parent command has `.action()`, it runs when no subcommand is provided.

Current structure:
```typescript
const claudeCmd = program
  .command('claude')
  .description('Claude Code integration for game design');

claudeCmd
  .command('install')
  .description('Install /design-game and /generate-ai slash commands')
  .option('--force', 'Overwrite existing slash commands')
  .option('--local', 'Install to current project instead of globally')
  .action(installClaudeCommand);
```

Target structure:
```typescript
const claudeCmd = program
  .command('claude')
  .description('Install Claude Code slash commands for game design')
  .option('--force', 'Overwrite existing slash commands')
  .option('--local', 'Install to current project instead of globally')
  .action(installClaudeCommand);

claudeCmd
  .command('uninstall')
  .description('Remove /design-game and /generate-ai slash commands')
  .option('--local', 'Uninstall from current project instead of globally')
  .action(uninstallClaudeCommand);
```

Update the parent command description to reflect it now performs the install action by default.
  </action>
  <verify>
Run `npx tsx src/cli/cli.ts claude --help` and verify:
- The help shows `--force` and `--local` options on the main command
- The help lists `uninstall` as a subcommand
- Running `npx tsx src/cli/cli.ts claude` (without subcommand) triggers install
  </verify>
  <done>
`boardsmith claude` runs install by default, `boardsmith claude uninstall` still works
  </done>
</task>

<task type="auto">
  <name>Task 2: Update success message to clarify GSD is not needed</name>
  <files>src/cli/commands/install-claude-command.ts</files>
  <action>
Update the success message in `installClaudeCommand` to clarify that the design-game skill is self-contained and does not require the GSD (Get Shit Done) framework.

After the existing success output (around line 165-174), add a note:

```typescript
console.log(chalk.gray('The /design-game skill is self-contained - no additional'));
console.log(chalk.gray('frameworks or dependencies required.'));
console.log('');
```

This satisfies CLI-02 by making it clear that users don't need to install GSD or any other workflow system - the skill has its own iterative loop built in.
  </action>
  <verify>
Run `npx tsx src/cli/cli.ts claude --force` and verify the success message includes the self-contained note.
  </verify>
  <done>
Success message clarifies the skill is self-contained with no external dependencies needed
  </done>
</task>

<task type="auto">
  <name>Task 3: Verify end-to-end CLI behavior</name>
  <files>src/cli/cli.ts, src/cli/commands/install-claude-command.ts</files>
  <action>
Test the complete CLI flow:

1. Run `npx tsx src/cli/cli.ts claude --help` - should show install options and uninstall subcommand
2. Run `npx tsx src/cli/cli.ts claude --force` - should install commands and show self-contained message
3. Run `npx tsx src/cli/cli.ts claude uninstall` - should remove commands
4. Run `npx tsx src/cli/cli.ts claude` - should install again (without --force, should say "already installed")

Verify the TypeScript compiles without errors: `npm run build` or `npx tsc --noEmit`
  </action>
  <verify>
All four CLI invocations work correctly. TypeScript compiles without errors.
  </verify>
  <done>
CLI-01 satisfied: `npx boardsmith claude` installs slash commands
CLI-02 satisfied: Success message clarifies no GSD dependency needed
  </done>
</task>

</tasks>

<verification>
1. `npx boardsmith claude` installs slash commands (default action)
2. `npx boardsmith claude --force` overwrites existing commands
3. `npx boardsmith claude --local` installs to project-local .claude/commands
4. `npx boardsmith claude uninstall` removes commands
5. Success message mentions skill is self-contained
6. `tsc --noEmit` passes
</verification>

<success_criteria>
- CLI-01: `npx boardsmith claude` creates/updates ~/.claude/commands/design-game.md
- CLI-02: Clear guidance that GSD dependency is not needed (self-contained skill)
- Backwards compatibility: `boardsmith claude uninstall` still works
- All existing flags (--force, --local) still work
</success_criteria>

<output>
After completion, create `.planning/phases/50-cli-integration/50-01-SUMMARY.md`
</output>
