---
phase: 56-position-seat-rename
plan: 03
type: execute
wave: 2
depends_on: ["56-01"]
files_modified:
  - src/ui/components/GameShell.vue
  - src/ui/components/PlayersPanel.vue
  - src/ui/components/WaitingRoom.vue
  - src/ui/components/DebugPanel.vue
  - src/ui/components/auto-ui/ActionPanel.vue
  - src/ui/components/auto-ui/AutoGameBoard.vue
  - src/ui/components/auto-ui/AutoUI.vue
  - src/ui/components/auto-ui/AutoElement.vue
  - src/ui/components/helpers/FlyingCardsOverlay.vue
  - src/ui/composables/useGameViewHelpers.ts
  - src/ui/composables/useActionController.ts
  - src/ui/composables/useActionControllerTypes.ts
  - src/ui/composables/useAutoAnimations.ts
  - src/ui/composables/useAutoFlyingElements.ts
  - src/ui/composables/useAutoFlyToStat.ts
  - src/ui/composables/usePlayerStatAnimation.ts
  - src/ui/composables/useElementChangeTracker.ts
  - src/ui/composables/useHexGrid.ts
  - src/ui/composables/useGameGrid.ts
  - src/ui/composables/useActionAnimations.ts
autonomous: true

must_haves:
  truths:
    - "UI props use `playerSeat` instead of `playerPosition`"
    - "data attributes use `data-player-seat` instead of `data-player-position`"
    - "All UI code compiles and renders correctly"
    - "All UI tests pass"
  artifacts:
    - path: "src/ui/components/GameShell.vue"
      provides: "Main game shell with playerSeat"
      contains: "playerSeat"
    - path: "src/ui/composables/useGameViewHelpers.ts"
      provides: "Helper functions with playerSeat parameter"
      contains: "playerSeat: number"
  key_links:
    - from: "src/ui/components/GameShell.vue"
      to: "src/ui/components/auto-ui/AutoGameBoard.vue"
      via: ":player-seat prop"
      pattern: ":player-seat"
---

<objective>
Update all UI components and composables to use seat terminology.

Purpose: After the core rename in Plan 01, this plan updates all Vue components, composables, and UI utilities to use `playerSeat` instead of `playerPosition` consistently.

Output: All UI code compiles and uses seat terminology.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/56-position-seat-rename/56-RESEARCH.md
@.planning/phases/56-position-seat-rename/56-01-SUMMARY.md
</context>

<naming_conventions>
- Props: `playerPosition` -> `playerSeat`
- Refs/variables: `playerPosition` -> `playerSeat`
- Data attributes: `data-player-position` -> `data-player-seat`
- Inject keys: `'playerPosition'` -> `'playerSeat'`
- Function parameters: Update to use `playerSeat`
- Template access: `player.position` -> `player.seat`
</naming_conventions>

<tasks>

<task type="auto">
  <name>Task 1: Update GameShell and core UI components</name>
  <files>
    src/ui/components/GameShell.vue
    src/ui/components/PlayersPanel.vue
    src/ui/components/WaitingRoom.vue
    src/ui/components/DebugPanel.vue
  </files>
  <action>
Update the core UI components:

**GameShell.vue** (main orchestrator - ~60 references):
- Line 115: `const playerPosition = ref<number>(0)` -> `const playerSeat = ref<number>(0)`
- Line 152: `{ playerPosition }` -> `{ playerSeat }`
- Line 168: `p.playerIndex === playerPosition.value` -> `p.playerIndex === playerSeat.value`
- Line 201: `playerPosition,` -> `playerSeat,`
- Line 264: `p.position === playerPosition.value` -> `p.seat === playerSeat.value`
- Line 265: `p.position !== playerPosition.value` -> `p.seat !== playerSeat.value`
- Line 292: `player: playerPosition.value` -> `player: playerSeat.value`
- Line 334: `provide('playerPosition', playerPosition)` -> `provide('playerSeat', playerSeat)`
- Line 360: `playerPosition.value = urlPosition` -> `playerSeat.value = urlPosition`
- Lines 382, 400, 492, 529, 548, 553, 623, 654, 687, 730, 735, 905: All `playerPosition` -> `playerSeat`
- Line 955: expose `playerSeat` instead of `playerPosition`
- Lines 1045, 1083, 1106, 1124: `:player-position` -> `:player-seat`

**PlayersPanel.vue**:
- Line 18: `playerPosition: number` -> `playerSeat: number`
- Line 33: `player.position` -> `player.seat`
- Line 35: `player.position === currentPlayerPosition` -> `player.seat === currentPlayerSeat`
- Line 38: Same pattern
- Line 41: `player.position === playerPosition` -> `player.seat === playerSeat`

**WaitingRoom.vue**:
- Lines 301-318: Function params `playerPosition` -> `playerSeat`
- Line 304: `slot.position !== playerPosition` -> `slot.seat !== playerSeat`

**DebugPanel.vue**:
- Line 218: `playerPosition: number` -> `playerSeat: number`
- Lines 462, 1160, 1163: Query param `player=${props.playerPosition}` -> `player=${props.playerSeat}`
- Line 1961: `playerPosition === i - 1` -> `playerSeat === i - 1`
  </action>
  <verify>
Run `npx vue-tsc --noEmit` to check Vue component types.
  </verify>
  <done>
GameShell, PlayersPanel, WaitingRoom, DebugPanel updated with playerSeat terminology.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update auto-ui components</name>
  <files>
    src/ui/components/auto-ui/ActionPanel.vue
    src/ui/components/auto-ui/AutoGameBoard.vue
    src/ui/components/auto-ui/AutoUI.vue
    src/ui/components/auto-ui/AutoElement.vue
    src/ui/components/helpers/FlyingCardsOverlay.vue
  </files>
  <action>
Update auto-ui and helper components:

**ActionPanel.vue**:
- Line 61: `playerPosition: number` -> `playerSeat: number`

**AutoGameBoard.vue**:
- Line 18: JSDoc `:player-position` -> `:player-seat`
- Line 49: `playerPosition: number` -> `playerSeat: number`
- Line 63: `provide('playerPosition', props.playerPosition)` -> `provide('playerSeat', props.playerSeat)`

**AutoUI.vue**:
- Line 11: JSDoc `:player-position` -> `:player-seat`
- Line 27: `playerPosition: number` -> `playerSeat: number`
- Line 45: `:player-position` -> `:player-seat`

**AutoElement.vue**:
- Line 44: `inject<number>('playerPosition', 0)` -> `inject<number>('playerSeat', 0)`
- Line 142: `player?.position === playerPosition` -> `player?.seat === playerSeat`

**FlyingCardsOverlay.vue**:
- Line 11: JSDoc `playerPosition` -> `playerSeat`
- Lines 48-49: JSDoc `playerPosition` -> `playerSeat`
- Line 62: `cardData.playerPosition` -> `cardData.playerSeat`
- Line 68: `cardData.playerPosition` -> `cardData.playerSeat`
- Line 75: Function param and usage `playerPosition` -> `playerSeat`
- Line 77: Same
- Line 84: `cardData.playerPosition` -> `cardData.playerSeat`
- Line 86: Same
  </action>
  <verify>
Run `npx vue-tsc --noEmit` to check Vue component types.
  </verify>
  <done>
All auto-ui components use playerSeat prop and inject key.
  </done>
</task>

<task type="auto">
  <name>Task 3: Update UI composables</name>
  <files>
    src/ui/composables/useGameViewHelpers.ts
    src/ui/composables/useActionController.ts
    src/ui/composables/useActionControllerTypes.ts
    src/ui/composables/useAutoAnimations.ts
    src/ui/composables/useAutoFlyingElements.ts
    src/ui/composables/useAutoFlyToStat.ts
    src/ui/composables/usePlayerStatAnimation.ts
    src/ui/composables/useElementChangeTracker.ts
    src/ui/composables/useHexGrid.ts
    src/ui/composables/useGameGrid.ts
    src/ui/composables/useActionAnimations.ts
  </files>
  <action>
Update all composables:

**useGameViewHelpers.ts**:
- Line 12: JSDoc example `playerPosition` -> `playerSeat`
- Line 120: Function param `playerPosition: number` -> `playerSeat: number`
- Line 126: `attrs.player?.position === playerPosition` -> `attrs.player?.seat === playerSeat`
- Lines 145, 154, 161, 186-196, 277-279: All function params and usages `playerPosition` -> `playerSeat`

**useActionController.ts**:
- Line 83: JSDoc `playerPosition` -> `playerSeat`
- Line 147: Options `playerPosition` -> `playerSeat`
- Line 489, 1210: `playerPosition?.value` -> `playerSeat?.value`

**useActionControllerTypes.ts**:
- Line 195: `playerPosition?: Ref<number>` -> `playerSeat?: Ref<number>`

**useAutoAnimations.ts**:
- Lines 46, 54, 60, 92, 125, 245, 249: All `playerPosition` references -> `playerSeat`
- Update data attribute access: `data-player-position` -> `data-player-seat`

**useAutoFlyingElements.ts**:
- Lines 10, 17, 38, 83: All `playerPosition` -> `playerSeat`

**useAutoFlyToStat.ts**:
- Lines 48, 79, 297, 313: All `playerPosition` -> `playerSeat`

**usePlayerStatAnimation.ts**:
- Lines 13, 31, 53, 62, 79, 82, 86, 103, 116, 120, 121, 129, 138: All `playerPosition` -> `playerSeat`
- Update data attribute: `data-player-position` -> `data-player-seat`

**useElementChangeTracker.ts**:
- Lines 45, 53: `playerPosition` -> `playerSeat`

**useHexGrid.ts**:
- Line 20: JSDoc `playerPosition` -> `playerSeat`

**useGameGrid.ts**:
- Line 12: JSDoc `playerPosition` -> `playerSeat`

**useActionAnimations.ts**:
- Line 101: JSDoc `playerPosition` -> `playerSeat`
  </action>
  <verify>
Run `npx tsc --noEmit` to verify composables compile.
Run `npm test -- --run src/ui` to verify UI tests pass.
  </verify>
  <done>
All UI composables use playerSeat terminology. Data attributes updated to data-player-seat.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. `npx vue-tsc --noEmit` - No Vue type errors
2. `npm test -- --run src/ui` - All UI tests pass
3. Grep check: `grep -r "playerPosition" src/ui/` - Should return NO results (except test mocks if any)
4. Grep check: `grep -r "data-player-position" src/ui/` - Should return NO results
5. Grep check: `grep -r "playerSeat" src/ui/` - Should show the new usage
</verification>

<success_criteria>
- All UI props use `playerSeat` instead of `playerPosition`
- Data attributes use `data-player-seat`
- Inject/provide keys use `'playerSeat'`
- All template accesses use `player.seat`
- All UI tests pass
- No TypeScript errors in UI code
</success_criteria>

<output>
After completion, create `.planning/phases/56-position-seat-rename/56-03-SUMMARY.md`
</output>
