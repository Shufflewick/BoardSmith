---
phase: 56-position-seat-rename
plan: 04
type: execute
wave: 2
depends_on: ["56-01"]
files_modified:
  - packages/games/checkers/rules/src/game.ts
  - packages/games/checkers/rules/src/ai.ts
  - packages/games/checkers/ui/src/App.vue
  - packages/games/checkers/ui/src/components/CheckersBoard.vue
  - packages/games/cribbage/rules/src/game.ts
  - packages/games/cribbage/rules/src/ai.ts
  - packages/games/cribbage/rules/src/actions.ts
  - packages/games/cribbage/ui/src/App.vue
  - packages/games/cribbage/ui/src/components/CribbageBoard.vue
  - packages/games/cribbage/ui/src/components/RoundSummary.vue
  - packages/games/go-fish/rules/src/game.ts
  - packages/games/go-fish/rules/src/ai.ts
  - packages/games/go-fish/ui/src/App.vue
  - packages/games/go-fish/ui/src/components/GoFishBoard.vue
  - packages/games/hex/rules/src/game.ts
  - packages/games/hex/rules/src/elements.ts
  - packages/games/hex/rules/src/ai.ts
  - packages/games/hex/rules/src/actions.ts
  - packages/games/hex/ui/src/App.vue
  - packages/games/hex/ui/src/components/HexBoard.vue
  - packages/games/polyhedral-potions/rules/src/game.ts
  - packages/games/polyhedral-potions/ui/src/App.vue
  - packages/games/polyhedral-potions/ui/src/components/GameTable.vue
  - packages/games/polyhedral-potions/ui/src/components/DiceShelf.vue
  - packages/games/polyhedral-potions/ui/src/components/ScoreSheet.vue
  - packages/games/demoAnimation/src/rules/game.ts
  - packages/games/demoAnimation/src/ui/App.vue
  - packages/games/demoAnimation/src/ui/components/GameTable.vue
  - packages/games/demoComplexUiInteractions/src/rules/game.ts
  - packages/games/demoComplexUiInteractions/src/ui/App.vue
  - packages/games/demoComplexUiInteractions/src/ui/components/GameTable.vue
  - packages/games/demoActionPanel/ui/src/App.vue
  - packages/games/floss-bitties/src/rules/game.ts
  - packages/games/floss-bitties/src/ui/App.vue
  - packages/games/floss-bitties/src/ui/components/GameTable.vue
autonomous: true

must_haves:
  truths:
    - "All extracted games use player.seat instead of player.position"
    - "All extracted games use playerSeat prop instead of playerPosition"
    - "All extracted games compile without errors"
    - "All extracted games run correctly"
  artifacts:
    - path: "packages/games/checkers/rules/src/game.ts"
      provides: "Checkers game with seat terminology"
      contains: "player.seat"
    - path: "packages/games/hex/rules/src/game.ts"
      provides: "Hex game with seat terminology"
      contains: "player.seat"
  key_links:
    - from: "packages/games/*/ui/src/App.vue"
      to: "packages/games/*/ui/src/components/*.vue"
      via: ":player-seat prop"
      pattern: ":player-seat"
---

<objective>
Update all 9 extracted games to use seat terminology.

Purpose: After the core API rename in Plan 01, all extracted games must be updated to use `player.seat` instead of `player.position` and `playerSeat` instead of `playerPosition` in their UIs.

Output: All 9 extracted games compile and work with the new seat terminology.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/56-position-seat-rename/56-RESEARCH.md
@.planning/phases/56-position-seat-rename/56-01-SUMMARY.md
</context>

<pattern_reference>
The same rename patterns apply across all games:
- `player.position` -> `player.seat`
- `playerPosition` prop -> `playerSeat` prop
- `:player-position` -> `:player-seat`
- `data-player-position` -> `data-player-seat`
- Function params `playerPosition` -> `playerSeat`
- `hand-${player.position}` -> `hand-${player.seat}`
- `getElementOwner(el) === playerPosition` -> `getElementOwner(el) === playerSeat`
</pattern_reference>

<tasks>

<task type="auto">
  <name>Task 1: Update Checkers, Cribbage, and Go Fish games</name>
  <files>
    packages/games/checkers/rules/src/game.ts
    packages/games/checkers/rules/src/ai.ts
    packages/games/checkers/ui/src/App.vue
    packages/games/checkers/ui/src/components/CheckersBoard.vue
    packages/games/cribbage/rules/src/game.ts
    packages/games/cribbage/rules/src/ai.ts
    packages/games/cribbage/rules/src/actions.ts
    packages/games/cribbage/ui/src/App.vue
    packages/games/cribbage/ui/src/components/CribbageBoard.vue
    packages/games/cribbage/ui/src/components/RoundSummary.vue
    packages/games/go-fish/rules/src/game.ts
    packages/games/go-fish/rules/src/ai.ts
    packages/games/go-fish/ui/src/App.vue
    packages/games/go-fish/ui/src/components/GoFishBoard.vue
  </files>
  <action>
Update Checkers, Cribbage, and Go Fish games:

**Checkers:**
- `rules/src/game.ts`: Lines 94-96 - `player.position` -> `player.seat`, update comments
- `rules/src/game.ts`: Line 389 - `player.position === 1` -> `player.seat === 1`
- `rules/src/ai.ts`: Lines 12-16 - `playerPosition` params and `player.position` -> `playerSeat` and `player.seat`
- `rules/src/ai.ts`: Lines 59, 75 - `player.position` -> `player.seat`
- `ui/src/App.vue`: Lines 9-15 - Comment and function using `player.position` -> `player.seat`
- `ui/src/App.vue`: Lines 33-86 - All `playerPosition` params -> `playerSeat`
- `ui/src/App.vue`: Lines 86-138 - `:player-position` -> `:player-seat`, `data-player-position` -> `data-player-seat`
- `ui/src/components/CheckersBoard.vue`: Line 56 prop, lines 100-550 - All `playerPosition` -> `playerSeat`

**Cribbage:**
- `rules/src/game.ts`: Lines 92-129 - Interface fields `playerPosition` -> `playerSeat`
- `rules/src/game.ts`: Lines 187, 308 - `hand-${player.position}` -> `hand-${player.seat}`
- `rules/src/game.ts`: Lines 437, 481, 531, 574, 692, 704 - `player.position` -> `player.seat`
- `rules/src/ai.ts`: Lines 12-16 - `playerPosition` -> `playerSeat`
- `rules/src/actions.ts`: Lines 147, 153, 157 - `player.position` -> `player.seat`
- `ui/src/App.vue`: Lines 6-72 - All `playerPosition` -> `playerSeat`, `player.position` -> `player.seat`
- `ui/src/components/CribbageBoard.vue`: Lines 192-382 - All `playerPosition` -> `playerSeat`
- `ui/src/components/RoundSummary.vue`: Line 13 - `playerPosition` -> `playerSeat`

**Go Fish:**
- `rules/src/game.ts`: Lines 56-122 - `hand-${player.position}` -> `hand-${player.seat}`, `books-${player.position}` -> `books-${player.seat}`
- `rules/src/ai.ts`: Lines 113-262 - All `playerPosition` -> `playerSeat`
- `ui/src/App.vue`: Lines 11-68 - All `playerPosition` -> `playerSeat`, `player.position` -> `player.seat`
- `ui/src/components/GoFishBoard.vue`: Lines 58-444 - All `playerPosition` -> `playerSeat`
  </action>
  <verify>
Build each game: `cd packages/games/checkers && npm run build`, repeat for cribbage and go-fish.
  </verify>
  <done>
Checkers, Cribbage, and Go Fish use seat terminology throughout.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update Hex and Polyhedral Potions games</name>
  <files>
    packages/games/hex/rules/src/game.ts
    packages/games/hex/rules/src/elements.ts
    packages/games/hex/rules/src/ai.ts
    packages/games/hex/rules/src/actions.ts
    packages/games/hex/ui/src/App.vue
    packages/games/hex/ui/src/components/HexBoard.vue
    packages/games/polyhedral-potions/rules/src/game.ts
    packages/games/polyhedral-potions/ui/src/App.vue
    packages/games/polyhedral-potions/ui/src/components/GameTable.vue
    packages/games/polyhedral-potions/ui/src/components/DiceShelf.vue
    packages/games/polyhedral-potions/ui/src/components/ScoreSheet.vue
  </files>
  <action>
Update Hex and Polyhedral Potions games:

**Hex:**
- `rules/src/game.ts`: Lines 93-95 - `player.position` -> `player.seat`, update comment
- `rules/src/elements.ts`: Lines 145, 201 - `player.position` -> `player.seat`
- `rules/src/ai.ts`: Lines 32-642 - All `playerPosition` -> `playerSeat`, `player.position` -> `player.seat`
  - Note: Local variable `playerPositions` (Set for grid positions) should NOT be renamed - it refers to cell positions on the board, not player seats
- `rules/src/actions.ts`: Line 34 - `stone-${player.position}` -> `stone-${player.seat}`
- `ui/src/App.vue`: Lines 6-82 - All `playerPosition` -> `playerSeat`, `player.position` -> `player.seat`
- `ui/src/components/HexBoard.vue`: Lines 40-159 - All `playerPosition` -> `playerSeat`

**Polyhedral Potions:**
- `rules/src/game.ts`: Lines 125, 149 - `draft-${player.position}` -> `draft-${player.seat}`
- `ui/src/App.vue`: Lines 6-111 - All `playerPosition` -> `playerSeat`, `player.position` -> `player.seat`
- `ui/src/components/GameTable.vue`: Lines 15-180 - All `playerPosition` -> `playerSeat`, `player.position` -> `player.seat`
- `ui/src/components/DiceShelf.vue`: Lines 11-108 - `playerPosition` -> `playerSeat`, `player.position` -> `player.seat`
- `ui/src/components/ScoreSheet.vue`: Lines 24-60 - `playerPosition` -> `playerSeat`, `player.position` -> `player.seat`
  </action>
  <verify>
Build each game: `cd packages/games/hex && npm run build`, `cd packages/games/polyhedral-potions && npm run build`.
  </verify>
  <done>
Hex and Polyhedral Potions use seat terminology throughout.
  </done>
</task>

<task type="auto">
  <name>Task 3: Update demo games and Floss Bitties</name>
  <files>
    packages/games/demoAnimation/src/rules/game.ts
    packages/games/demoAnimation/src/ui/App.vue
    packages/games/demoAnimation/src/ui/components/GameTable.vue
    packages/games/demoComplexUiInteractions/src/rules/game.ts
    packages/games/demoComplexUiInteractions/src/ui/App.vue
    packages/games/demoComplexUiInteractions/src/ui/components/GameTable.vue
    packages/games/demoActionPanel/ui/src/App.vue
    packages/games/floss-bitties/src/rules/game.ts
    packages/games/floss-bitties/src/ui/App.vue
    packages/games/floss-bitties/src/ui/components/GameTable.vue
  </files>
  <action>
Update remaining demo games and Floss Bitties:

**demoAnimation:**
- `src/rules/game.ts`: No direct player.position usage (uses inherited patterns)
- `src/ui/App.vue`: Line 24-27 - `:player-position` -> `:player-seat`
- `src/ui/components/GameTable.vue`: Lines 42-321 - `playerPosition` -> `playerSeat`, `player.position` -> `player.seat`, `data-player-position` -> `data-player-seat`

**demoComplexUiInteractions:**
- `src/rules/game.ts`: Lines 48, 91 - `hand-${player.position}` -> `hand-${player.seat}`
- `src/ui/App.vue`: Lines 27-57 - `playerPosition` -> `playerSeat`, `:player-position` -> `:player-seat`
- `src/ui/components/GameTable.vue`: Lines 22-137 - `playerPosition` -> `playerSeat`, `player.position` -> `player.seat`

**demoActionPanel:**
- `ui/src/App.vue`: Lines 7-10 - `playerPosition` -> `playerSeat`, `:player-position` -> `:player-seat`

**Floss Bitties:**
- `src/rules/game.ts`: Lines 70, 125, 197, 269 - `hand-${player.position}` -> `hand-${player.seat}`, `player.position` -> `player.seat`, `lastDiscardedByPosition` -> `lastDiscardedBySeat`
- `src/ui/App.vue`: Lines 12-32 - `playerPosition` -> `playerSeat`, `:player-position` -> `:player-seat`
- `src/ui/components/GameTable.vue`: Line 5 - `playerPosition: number` -> `playerSeat: number`
  </action>
  <verify>
Build each game:
- `cd packages/games/demoAnimation && npm run build`
- `cd packages/games/demoComplexUiInteractions && npm run build`
- `cd packages/games/demoActionPanel && npm run build`
- `cd packages/games/floss-bitties && npm run build`
  </verify>
  <done>
All demo games and Floss Bitties use seat terminology throughout.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. Build all games from monorepo root: `npm run build:games` (or build individually)
2. Run any game tests: `npm test -- --run packages/games`
3. Grep check: `grep -r "player\.position" packages/games/` - Should return NO results
4. Grep check: `grep -rn "playerPosition" packages/games/` - Should return NO results except potentially variable names for board positions (not player seats)
5. Grep check: `grep -r "data-player-position" packages/games/` - Should return NO results
</verification>

<success_criteria>
- All 9 extracted games use `player.seat` instead of `player.position`
- All UI props use `playerSeat` instead of `playerPosition`
- All data attributes use `data-player-seat`
- All games build without errors
- Games function correctly with the new terminology
</success_criteria>

<output>
After completion, create `.planning/phases/56-position-seat-rename/56-04-SUMMARY.md`
</output>
