---
phase: 58-documentation-audit
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/common-patterns.md
  - docs/ai-system.md
  - docs/core-concepts.md
  - docs/game-examples.md
autonomous: true

must_haves:
  truths:
    - "All code examples use player.seat instead of player.position"
    - "All Player constructor examples show seat parameter semantics"
    - "AI heuristic examples use modern seat terminology"
  artifacts:
    - path: "docs/common-patterns.md"
      provides: "Dealer tracking and directional movement patterns"
      contains: "player.seat"
    - path: "docs/ai-system.md"
      provides: "AI heuristic examples"
      contains: ".seat"
    - path: "docs/core-concepts.md"
      provides: "Player class documentation"
      contains: "seat"
  key_links:
    - from: "docs/common-patterns.md"
      to: "docs/nomenclature.md"
      via: "terminology reference"
      pattern: "Seat"
---

<objective>
Update all documentation code examples to use the renamed Player.seat property.

Purpose: Code examples in documentation should match the current API. The v2.3 rename from `position` to `seat` was implemented in Phase 56, but some documentation code examples still show the old API.

Output: Updated code examples using `player.seat` instead of `player.position` in:
- Dealer tracking patterns
- Directional movement patterns
- AI heuristic examples
- Player class constructor examples
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@docs/nomenclature.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update common-patterns.md code examples</name>
  <files>docs/common-patterns.md</files>
  <action>
Update all instances of `player.position` to `player.seat` in code examples:

1. Dealer tracking pattern (around line 15-40):
   - `dealerPosition` property name can stay (it's a game-specific property name, not the API)
   - But the reference `nextDealer.position` should become `nextDealer.seat`

2. Directional movement pattern (around line 327):
   - `this.player?.position === 1` should become `this.player?.seat === 1`

3. Promotion check pattern (around line 357):
   - `piece.player?.position === 1` should become `piece.player?.seat === 1`

4. Update any comments that say "player position" to say "player seat" where referring to the API property.

Important: Keep `dealerPosition` as the variable name since that's a game-specific property choice, not the Player API. The key change is `.position` property access becomes `.seat`.
  </action>
  <verify>
Run: `grep -n "\.position" docs/common-patterns.md`
Should only show grid/cell position references, not player.position.
  </verify>
  <done>All player.position references in common-patterns.md updated to player.seat</done>
</task>

<task type="auto">
  <name>Task 2: Update ai-system.md code examples</name>
  <files>docs/ai-system.md</files>
  <action>
Update AI heuristic examples to use `player.seat`:

1. Around line 92: `c.piece?.player?.position === p` should become `c.piece?.player?.seat === p`

2. Around line 110-111:
   - `pc.player?.position === p` becomes `pc.player?.seat === p`
   - `pc.player?.position !== p` becomes `pc.player?.seat !== p`

3. Around line 165: `c.piece?.player?.position === p` becomes `c.piece?.player?.seat === p`

These are all comparisons checking which player owns a piece. The `p` variable is a seat/position number (1 or 2), so the logic is the same.
  </action>
  <verify>
Run: `grep -n "\.position" docs/ai-system.md`
Should only show non-player position references (like "evaluating position" in prose).
  </verify>
  <done>All player.position references in ai-system.md updated to player.seat</done>
</task>

<task type="auto">
  <name>Task 3: Update core-concepts.md and game-examples.md Player examples</name>
  <files>docs/core-concepts.md, docs/game-examples.md</files>
  <action>
Update Player class constructor examples and related comments:

In docs/core-concepts.md:
1. Around line 212-213: The Player constructor signature passes `position` to `super()`. This is the constructor parameter name, which was NOT renamed (only the property was). Review if the comment on line 228 needs updating:
   - Change "position: 1-indexed player position (Player 1 = position 1)" to "position: 1-indexed seat number (Player 1 has seat 1)"
   - Or consider updating the comment to reference `seat` property: "The position parameter becomes `player.seat` (1-indexed)"

In docs/game-examples.md:
1. Around line 530-531: Same pattern - constructor signature is correct, but check if surrounding comments reference "position" where they mean the property.

The constructor parameter `position: number` was deliberately kept for API stability. The PROPERTY access `.position` became `.seat`. Ensure documentation clarifies this distinction if shown.
  </action>
  <verify>
Run: `grep -n "1-indexed player position" docs/core-concepts.md`
Should return 0 matches if updated.
  </verify>
  <done>Player constructor examples clarified to distinguish parameter vs property names</done>
</task>

</tasks>

<verification>
After all tasks:
```bash
# Verify no player.position property access remains
grep -rn "\.position ===" docs/common-patterns.md docs/ai-system.md
# Should return empty

# Verify seat is now used
grep -rn "\.seat ===" docs/common-patterns.md docs/ai-system.md
# Should show the updated lines

# Ensure compilation of code examples still makes sense (manual review)
```
</verification>

<success_criteria>
- All `player.position` property accesses changed to `player.seat` in code examples
- Constructor parameter names left as-is (backward compatible)
- Comments updated to reference `seat` where discussing the property
- No broken code examples (variable names match declarations)
</success_criteria>

<output>
After completion, create `.planning/phases/58-documentation-audit/58-01-SUMMARY.md`
</output>
