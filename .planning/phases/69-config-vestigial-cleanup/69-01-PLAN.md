---
phase: 69-config-vestigial-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - vitest.config.ts
  - eslint.config.mjs
  - package.json
  - src/ai/mcts-bot.ts
  - src/ai/utils.ts
autonomous: true

must_haves:
  truths:
    - "vitest.config.ts references only paths that exist in the codebase"
    - "eslint.config.mjs lints src/**/*.ts files"
    - "npm run lint successfully lints files"
    - "src/ai/utils.ts no longer exists"
    - "All tests pass after config changes"
  artifacts:
    - path: "vitest.config.ts"
      provides: "Test runner configuration"
      contains: "src/**/*.test.ts"
    - path: "eslint.config.mjs"
      provides: "ESLint configuration"
      contains: "src/**/*.ts"
    - path: "package.json"
      provides: "Package scripts"
      contains: "eslint src/"
  key_links:
    - from: "src/ai/mcts-bot.ts"
      to: "src/utils/random.js"
      via: "direct import"
      pattern: "from.*utils/random"
---

<objective>
Fix stale build configuration paths and remove vestigial re-export file.

Purpose: Build tooling configuration has stale paths from the monorepo collapse (v2.0). The `packages/` directory no longer exists but vitest.config.ts, eslint.config.mjs, and package.json still reference it. Additionally, src/ai/utils.ts is a single-export proxy file that should be removed.

Output: Clean configuration files that reference only existing paths, and removal of unnecessary proxy file.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/69-config-vestigial-cleanup/69-RESEARCH.md
@vitest.config.ts
@eslint.config.mjs
@package.json
@src/ai/utils.ts
@src/ai/mcts-bot.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix vitest.config.ts stale paths</name>
  <files>vitest.config.ts</files>
  <action>
    Remove stale path references from vitest.config.ts:

    1. In the `include` array, remove these non-existent paths:
       - `'packages/games/**/tests/**/*.test.ts'` (line 10)
       - `'cli/tests/**/*.test.ts'` (line 11)
       Keep only: `'src/**/*.test.ts'`

    2. In the `resolve.alias` section, remove these stale game package aliases:
       - `'@boardsmith/checkers-rules'` (line 34)
       - `'@boardsmith/cribbage-rules'` (line 35)
       - `'@boardsmith/go-fish-rules'` (line 36)
       Keep all the `@boardsmith/*` aliases that point to `src/` (engine, runtime, ai, etc.)

    3. Remove the stale comments referencing "Phase 44" and "until Phase 44"
  </action>
  <verify>
    Run `npm test` and confirm:
    - Test count remains 504 (or current count)
    - No warnings about missing paths
    - All tests pass
  </verify>
  <done>vitest.config.ts contains only valid paths that exist in the codebase</done>
</task>

<task type="auto">
  <name>Task 2: Fix ESLint configuration and lint script</name>
  <files>eslint.config.mjs, package.json</files>
  <action>
    1. In eslint.config.mjs line 17, change:
       `files: ['packages/**/*.ts']`
       to:
       `files: ['src/**/*.ts']`

    2. In package.json line 70, change:
       `"lint": "eslint packages/"`
       to:
       `"lint": "eslint src/"`
  </action>
  <verify>
    Run these commands:
    1. `npm run lint` - should lint files (may have warnings, but should not error)
    2. `npx eslint src/ai/mcts-bot.ts` - should NOT show "no matching configuration was supplied"
  </verify>
  <done>ESLint successfully matches and lints src/**/*.ts files</done>
</task>

<task type="auto">
  <name>Task 3: Remove vestigial utils.ts re-export file</name>
  <files>src/ai/mcts-bot.ts, src/ai/utils.ts</files>
  <action>
    1. In src/ai/mcts-bot.ts line 14, change:
       `import { SeededRandom } from './utils.js';`
       to:
       `import { SeededRandom } from '../utils/random.js';`

    2. Delete the file src/ai/utils.ts entirely.
       The file currently contains only:
       ```typescript
       // Re-export from canonical location
       export { createSeededRandom, SeededRandom } from '../utils/random.js';
       ```
       This is a vestigial re-export that adds no value.
  </action>
  <verify>
    1. Run `npm run build` - should succeed with no errors
    2. Run `npm test` - all tests should pass
    3. Confirm src/ai/utils.ts no longer exists: `ls src/ai/utils.ts` should fail
  </verify>
  <done>src/ai/utils.ts is deleted and mcts-bot.ts imports directly from canonical location</done>
</task>

</tasks>

<verification>
After all tasks:

1. **Config paths valid:**
   ```bash
   # vitest should find tests
   npm test
   # Should show 504+ tests passing
   ```

2. **ESLint working:**
   ```bash
   npm run lint
   # Should lint files without "no matching configuration" errors
   ```

3. **Build succeeds:**
   ```bash
   npm run build
   # Should complete without errors
   ```

4. **File removed:**
   ```bash
   ls src/ai/utils.ts 2>&1
   # Should show "No such file or directory"
   ```
</verification>

<success_criteria>
- vitest.config.ts has no references to packages/, cli/, or game-specific aliases
- eslint.config.mjs files pattern is 'src/**/*.ts'
- package.json lint script runs 'eslint src/'
- src/ai/utils.ts no longer exists
- src/ai/mcts-bot.ts imports SeededRandom from '../utils/random.js'
- All tests pass (504+ tests)
- Build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/69-config-vestigial-cleanup/69-01-SUMMARY.md`
</output>
